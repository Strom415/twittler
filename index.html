<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="twittler.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <script src="timeago.js"></script>
  </head>
  <body>

    <header>
      <ul>
        <button id='all'>All Tweets</button>
        <button id='mrac'>mracus</button>
        <button id='shaw'>shawndrost</button>
        <button id='shar'>sharksforcheap</button>
        <button id='doug'>douglascalhoun</button>
      </ul>
    </header>

    <div class='wrapper'>
      <p class='text'></p>
    </div>


    <script>

      $(document).ready(function(){

        $('ul').on('mouseenter', "button", function(){
            $(this).addClass('highlight');
        });

        $('ul').on('mouseleave', "button", function(){
            $(this).removeClass('highlight');
        });

        $('ul').on('click', "#all", function(){
          var index = streams.home.length - 1;
          $('p').html('');
        
          while(index >= 0){
            var tweet = streams.home[index];
            var $tweetUser = $("<span class='user'></span>");
            var $tweetMessage = $("<span class='message'> </span>");
            var $tweetTime = $("<div class='time'></div>");
            var stamp = $.timeago(tweet.created_at);
            $tweetUser.text('@' + tweet.user + ': ');
            $tweetMessage.text(tweet.message);
            $tweetTime.text(stamp);
            $('p').append($tweetUser).append($tweetMessage).append($tweetTime);
            index -= 1;
          }
        });

        $('ul').on('click', "#mrac", function(){
          var index = streams.users.mracus.length - 1;
          $('p').html('');
        
          while(index >= 0){
            var tweet = streams.users.mracus[index];
            var $tweetUser = $("<span class='user'></span>");
            var $tweetMessage = $("<span class='message'> </span>");
            var $tweetTime = $("<div class='time'></div>");
            var stamp = $.timeago(tweet.created_at);
            $tweetUser.text('@' + tweet.user + ': ');
            $tweetMessage.text(tweet.message);
            $tweetTime.text(stamp);
            $('p').append($tweetUser).append($tweetMessage).append($tweetTime);
            index -= 1;
          }
        });

        $('ul').on('click', "#shaw", function(){
          var index = streams.users.shawndrost.length - 1;
          $('p').html('');
        
          while(index >= 0){
            var tweet = streams.users.shawndrost[index];
            var $tweetUser = $("<span class='user'></span>");
            var $tweetMessage = $("<span class='message'> </span>");
            var $tweetTime = $("<div class='time'></div>");
            var stamp = $.timeago(tweet.created_at);
            $tweetUser.text('@' + tweet.user + ': ');
            $tweetMessage.text(tweet.message);
            $tweetTime.text(stamp);
            $('p').append($tweetUser).append($tweetMessage).append($tweetTime);
            index -= 1;
          }
        });

        $('ul').on('click', "#shar", function(){
          var index = streams.users.sharksforcheap.length - 1;
          $('p').html('');
        
          while(index >= 0){
            var tweet = streams.users.sharksforcheap[index];
            var $tweetUser = $("<span class='user'></span>");
            var $tweetMessage = $("<span class='message'> </span>");
            var $tweetTime = $("<div class='time'></div>");
            var stamp = $.timeago(tweet.created_at);
            $tweetUser.text('@' + tweet.user + ': ');
            $tweetMessage.text(tweet.message);
            $tweetTime.text(stamp);
            $('p').append($tweetUser).append($tweetMessage).append($tweetTime);
            index -= 1;
          }
        });
        
        $('ul').on('click', "#doug", function(){
          var index = streams.users.douglascalhoun.length - 1;
          $('p').html('');
        
          while(index >= 0){
            var tweet = streams.users.douglascalhoun[index];
            var $tweetUser = $("<span class='user'></span>");
            var $tweetMessage = $("<span class='message'> </span>");
            var $tweetTime = $("<div class='time' ></div>");
            var stamp = $.timeago(tweet.created_at);
            $tweetUser.text('@' + tweet.user + ': ');
            $tweetMessage.text(tweet.message);
            $tweetTime.text(stamp);
            $('p').append($tweetUser).append($tweetMessage).append($tweetTime);
            index -= 1;
          }
        });
    
      });

    </script>
  </body>
</html>